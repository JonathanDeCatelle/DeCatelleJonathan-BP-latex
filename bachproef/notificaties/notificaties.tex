%%=============================================================================
%% Push-notificaties
%%=============================================================================

\chapter{Notificaties}%
\label{ch:notificaties}

In dit hoofdstuk worden de lokale notificaties van native en cross-platform vergeleken met elkaar. 
Met de resultaten kan dan een gepaste conclusie worden gevormd.

\section{Native}
\subsubsection{Wat hebben we nodig}
Om lokale notificaties aan te kunnen maken bij Android wordt de NotificationCompat API aangeboden 
door de Android support library. Deze stelt ons in staat om de titel, tekst, pictogram en andere inhoud van de 
notificatie in te stellen. Notificaties kunnen ook worden ingesteld om speciale acties te ondernemen bij het openen 
van de applicatie via de notificatie. Er kan ook een eventueel een prioriteit worden meegegeven.

\subsubsection{Uitvoering}

\input{./notificaties/notificatiesnativeuitvoering.tex}

\subsubsection{Ontwikkeltijd}

\input{./notificaties/notificatiesnativeontwikkeltijd.tex}

\subsubsection{Performantie}

\input{./notificaties/notificatiesnativeperformantie.tex}

\subsubsection{Schaalbaarheid}

\input{./notificaties/notificatiesnativeschaalbaarheid.tex}

\clearpage
\section{Cross-platform}
\subsubsection{Wat hebben we nodig}
Om lokale notificaties bij React Native te tonen wordt de library Notifee gebruikt.
Deze library geeft ons toegang om net zoals bij Android de titel, tekst, pictogram en 
andere inhoud van de notificatie in te stellen. Daarnaast kunnen er ook speciale acties 
of prioriteiten worden ingesteld.

\subsubsection{Uitvoering}

\input{./notificaties/notificatiescrossuitvoering.tex}

\subsubsection{Ontwikkeltijd}

\input{./notificaties/notificatiescrossontwikkeltijd.tex}

\subsubsection{Performantie}

\input{./notificaties/notificatiescrossperformantie.tex}

\subsubsection{Schaalbaarheid}

\input{./notificaties/notificatiescrossschaalbaarheid.tex}

\section{Conclusie}
Dankzij de resultaten van beide applicaties kunnen we concluderen dat de ontwikkeltijd van notificaties met 
beide ontwikkelmethodes relatief gelijk blijft. Bij beide applicaties moest er toestemming gevraagd worden. 
Door bij Android dit aan het \textbf{AndroidManifest.xml} bestand toe te voegen, en bij React Native door 
de \textbf{notifee.requestPermission();} methode uit te voeren. Hierna moet er bij beide applicaties een 
channel worden aangemaakt en tot slot dan de notificatie.

\begin{tabular}{ |p{3cm}||p{5cm}|p{5cm}| }
    \hline
     & Native (Android) & Cross-platform (React Native) \\
    \hline
     & \multicolumn{2}{|c|}{Tijdsduur} \\
    \hline
    Minimaal & 4ms & 141ms \\
    Maximaal & 88ms & 166ms \\
    Gemiddeld & 12ms & 297ms \\
    \hline
     & \multicolumn{2}{|c|}{Geheugen} \\ 
    \hline
    Offset & 2-3MB & 0,5MB \\
    Gemiddeld & 81MB & 172MB \\
    \hline
     & \multicolumn{2}{|c|}{CPU} \\
    \hline
    Minimaal & 19\% & 25\% \\
    Maximaal & 27\% & 30\% \\
    Gemiddeld & 21\% & 28\% \\
    \hline
\end{tabular}
\\\\
Daarnaast zien we bij de tijdsduur dat nodig is om een notificatie aan te maken wel een duidelijk 
verschil tussen Android en React Native. Gemiddel is het aanmaken van een notificatie bij Android
154ms sneller dan bij React Native. Bij React Native duurt het gemiddel 166ms om een notificatie 
aan te maken terwijl dit bij Android maar 12ms duurt. Dit kan liggen aan het feit dat de externe 
library de code moet omzetten naar platformspecifieke code waardoor er veel tijd wordt verloren.
\\\\
We zien dan wel bij het geheugen dat er geen verschil is tussen het aanmaken van een notificatie en wanneer er 
niks gebeurd in de appplicatie. Maar ondanks dat er geen invloed is om het aanmaken van een notificatie bij 
Android en React Native zien we wel dat er 112,35\% meer geheugen wordt gebruikt bij React Native dan 
bij Android (81MB in vergelijking met 172MB). Dit kan ook weer liggen aan het feit dat de externe library
de code moet omzetten naar platformspecifieke code waardoor er veel geheugen wordt gebruikt.
\\\\
Bij het CPU gebruik zien we wel een verschil tijdens het aanmaken van een notificatie en wanneer de 
applicatie inactief is. Daarnaast zien we ook een verschil tussen Android en React-native. Bij React Native 
springt het CPU gebruik gemiddeld naar 28\% terwijl dat het bij Android maar naar 21\% springt. Ookal 
draaien beide applicaties op hetzelfde apparaat gebruikt de React Native applicatie gemiddeld 7\% meer 
van de CPU dan de Android applicatie.
\\\\
Op vlak van schaalbaarheid merken we dat beide ontwikkelmethodes net zoals bij de ontwikkelingstijd 
lijken op elkaar. Allebei geven ze de mogelijkheid om de logica in methodes te onderscheiden, 
waardoor deze later individueel herbruikt of opgeschaald kunnen worden.
\\\\
Over het algemeen kunnen we concluderen dat het aanmaken van notificaties bij Android sneller gaat dan bij
React Native. En het dus beter is om met native te werken als je notificaties wilt gebruiken in je applicatie.























